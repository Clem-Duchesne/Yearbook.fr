{% extends "app/layout.html.twig" %}

{% block content %}
    <div id="drag_zone">

    </div>
<main id="creation">
    <div id="menu">
            <span class="activ outil" data-contenus="images"><i class="las la-image"></i></span>
            <span class="outil" data-contenus="fonds"><i class="las la-palette"></i></span>
            <span class="outil" data-contenus="layout"><i class="las la-puzzle-piece"></i></span>
            <a href="{{ url('app/creation/save') }}" class="hidden url_text"></a>
            <a href="{{ url('app/creation/save/img') }}" class="hidden url_img"></a>
            <a href="{{ url('app/creation/save/background') }}" class="hidden url_background"></a>

        </div>
        <div id="contenus">
            <div id="images" class="contenu">
                <!-- Trigger/Open The Modal -->
                <button id="popup"><i class="las la-plus-circle"></i></button>
                {% for image in images %}
                    <img data-content="image" class="dragable" draggable="false" src="{{assetA('img/photo/mini/') ~ image.image_mini }}" alt="Photos" ondragstart="return false;">
                {% endfor %}

                <!-- The Modal -->
                <div id="myModal" class="modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <span class="close">&times;</span>
                            <h2>Ajout d'une image</h2>
                        </div>
                        <div class="modal-body">
                            <form action="{{url('app/creation/add/image')}}" method="post" enctype="multipart/form-data" runat="server">
                                <label id="picture_click" for="picture">
                                    <div id="beforeSelect">
                                        <span aria-hidden="true"><i class="las la-plus-circle"></i></span>
                                    </div>

                                    <img id="afterSelect" src="" alt="your image" />
                                    <input type="file" id="picture" style="display:none" name="illustration" accept="image/png, image/jpeg">
                                <button id="btnAddFond" title="Ajouter le fond" style="display:none" type="submit"><i class="las la-check"></i></button>
                            </label>
                                {% for etudiant in etudiants %}
                                <input type="checkbox" id="etudiant{{loop.index}}" name="etud{{etudiant.id}}" value="{{etudiant.id}}!etud">
                                <label for="etudiant{{loop.index}}">{{etudiant.nom}} {{etudiant.pnom}}</label>
                                {% endfor %}
                                {% for equipe in equipes %}
                                <input type="checkbox" id="equipe{{loop.index}}" name="equi{{equipe.id}}" value="{{equipe.id}}!equi">
                                <label for="equipe{{loop.index}}">{{equipe.nom}} {{equipe.pnom}}</label>
                                {% endfor %}
            
                            </form>
                        </div>
                    </div>
                </div>

                
            
            
            </div>
            
            <div id="fonds" class="contenu hide">
                {% for fond in fonds %}
                <img data-content="fond" class="dragable" draggable="false" ondragstart="return false;" src="{{assetA('img/fond/mini/') ~ fond.illustration_mini}}">
                {% endfor %}
            </div>
            
            <div id="layout" class="contenu hide">
                <div><img data-content="layoutico" class="dragable" data-layout="1" draggable="false" ondragstart="return false;" src="{{assetA('img/layout/layout1.png')}}"></div>
                <div><img data-content="layoutico" class="dragable" data-layout="2" draggable="false" ondragstart="return false;" src="{{assetA('img/layout/layout2.png')}}"></div>
                <div><img data-content="layoutico" class="dragable" data-layout="3" draggable="false" ondragstart="return false;" src="{{assetA('img/layout/layout3.png')}}"></div>
                <div><img data-content="layoutico" class="dragable" data-layout="4" draggable="false" ondragstart="return false;" src="{{assetA('img/layout/layout4.png')}}"></div>
            </div>
        </div>

        <div id="livre">
            <div id="info">
                <span>Année {{yearbook.annéePromotion}}</span>
                <span>60 pages</span>
            </div>
            <div id="text-menu" class="hidden">
                    <label for="pet-select">Choisir une police</label>
                    <select name="polices" id="font-select">
                        <option value="open" class="opens" selected>Police par default</option>
                        <option value="lemonada" class="lemonada">Lemonada</option>
                        <option value="montserrat" class="montserrat">Montserrat</option>
                        <option value="lato" class="lato">Lato</option>
                    </select>
            </div>
            <div id="page12" class="pages">
                <div class="page" id="page1">
                    <div id='layout1' class="layout hide">
                        <div>
                            <div id="h" class='zoneImage' data-image="image1"></div>
                            <div id="v" class='zoneImage' data-image="image2"></div>
                        </div>
                        <div>
                            <div id="v" class='zoneImage' data-image="image3"></div>
                            <div id="h" class='zoneImage' data-image="image4"></div>
                        </div>
                    </div>

                    <div id='layout2' class="layout hide">
                        <input type="title" class="text" data-style="title">
                        <div class='zoneImage' data-image="image1"></div>
                        <textarea data-style="bottom-text" class='zoneImage text' name="bottom-text"></textarea>
                    </div>

                    <div id='layout3' class="layout">
                        <input type="text" data-style="left-text" class="text" name="left-text">
                        <div>
                            <input type="title" class="text" data-style="title">
                            <div class='zoneImage' data-image="image1"></div>
                            <textarea data-style="bottom-text" class='text' name="bottom-text"></textarea>
                        </div>
                    <input type="text" class="text" data-style="right-text">
                    </div>
                    <div id='layout4' class="layout hide">
                        <div class='zoneImage' data-image="image1"></div>
                        <div class='zoneImage' data-image="image2"></div>
                    </div>

                </div>
                <div class="page" id="page2">
                    <div id='layout1' class="layout hide">
                        <div>
                            <div id="h" class='zoneImage' data-image="image1"></div>
                            <div id="v" class='zoneImage' data-image="image2"></div>
                        </div>
                        <div>
                            <div id="v" class='zoneImage' data-image="image3"></div>
                            <div id="h" class='zoneImage' data-image="image4"></div>
                        </div>
                    </div>

                    <div id='layout2' class="layout hide">
                        <input type="title" class="text" data-style="title">
                        <div class='zoneImage' data-image="image1"></div>
                        <textarea data-style="bottom-text" class='zoneImage text' name="bottom-text"></textarea>
                    </div>

                    <div id='layout3' class="layout">
                        <input type="text" data-style="left-text" class="text" name="left-text">
                        <div>
                            <input type="title" class="text" data-style="title">
                            <div class='zoneImage' data-image="image1"></div>
                            <textarea data-style="bottom-text" class='text' name="bottom-text"></textarea>
                        </div>
                        <input type="text" class="text" data-style="right-text">
                    </div>
                    <div id='layout4' class="layout hide">
                        <div class='zoneImage' data-image="image1"></div>
                        <div class='zoneImage' data-image="image2"></div>
                    </div>
                </div>

            </div>
            {%set h = 0 %}
            {% for i in 3..60 %}
                    <div id="page{{i + h}}{{i + 1 + h}}" class="pages hide">
                        <div class="page" id="page{{i}}">
                    <div id='layout1' class="layout hide">
                        <div>
                            <div id="h" class='zoneImage'></div>
                            <div id="v" class='zoneImage'></div>
                        </div>
                        <div>
                            <div id="v" class='zoneImage'></div>
                            <div id="h" class='zoneImage'></div>
                        </div>
                    </div>

                    <div id='layout2' class="layout hide">
                        <input type="title" class="text" data-style="title">
                        <div class='zoneImage'></div>
                        <textarea data-style="bottom-text" class='zoneImage text' name="bottom-text"></textarea>
                    </div>

                    <div id='layout3' class="layout">
                        <input type="text" data-style="left-text" class="text" name="left-text">
                        <div>
                            <input type="title" class="text" data-style="title">
                            <div class='zoneImage'></div>
                            <textarea data-style="bottom-text" class='text' name="bottom-text"></textarea>
                        </div>
                    <input type="text" class="text" data-style="right-text">
                    </div>
                    <div id='layout4' class="layout hide">
                        <div class='zoneImage'></div>
                        <div class='zoneImage'></div>
                    </div>

                </div>
                <div class="page" id="page{{i + 1}}">
                    <div id='layout1' class="layout hide">
                        <div>
                            <div id="h" class='zoneImage'></div>
                            <div id="v" class='zoneImage'></div>
                        </div>
                        <div>
                            <div id="v" class='zoneImage'></div>
                            <div id="h" class='zoneImage'></div>
                        </div>
                    </div>

                    <div id='layout2' class="layout hide">
                        <input type="title" class="text" data-style="title">
                        <div class='zoneImage'></div>
                        <textarea data-style="bottom-text" class='zoneImage text' name="bottom-text"></textarea>
                    </div>

                    <div id='layout3' class="layout">
                        <input type="text" data-style="left-text" class="text" name="left-text">
                        <div>
                            <input type="title" class="text" data-style="title">
                            <div class='zoneImage'></div>
                            <textarea data-style="bottom-text" class='text' name="bottom-text"></textarea>
                        </div>
                        <input type="text" class="text" data-style="right-text">
                    </div>
                    <div id='layout4' class="layout hide">
                        <div class='zoneImage'></div>
                        <div class='zoneImage'></div>
                    </div>
                </div>

                </div>
                {%set h = h + 1 %}
            {% endfor %}
            <div id="nav">
                <span class="numPage activ" data-page="12">1-2</span>
                    {%set h = 0 %}
                {% for i in 3..60 %}
                
                    <span class="numPage" data-page="{{i + h}}{{i + 1 + h}}">{{i + h}} - {{i + 1 + h}}</span>
                    {%set h = h + 1 %}
                    {% endfor %}
                <span class="numPage" data-page="plus">Plus</span>
            </div>
        </div>    
</main>


{% endblock %}
{% block js %}
<script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<script src="{{assetA('js/showPictureUpload.js')}}"></script>
<script src="{{assetA('js/outil.js')}}"></script>
<script src="{{assetA('js/d&d.js')}}"></script>
<script src="{{assetA('js/save.js')}}"></script>
<script src="{{assetA('js/d&dUse.js')}}"></script>
<script src="{{assetA('js/pages.js')}}"></script>
<script src="{{assetA('js/polices.js')}}"></script>
<script src="{{assetA('js/popup.js')}}"></script>
{% endblock %}